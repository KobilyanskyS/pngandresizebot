# Telegram Image Bot

Этот бот для Telegram позволяет пользователям отправлять изображения или файлы с изображениями, а затем конвертировать их в формат PNG. Также бот предлагает возможность изменения разрешения изображений.

Бот выполняет конвертацию изображений в PNG и изменяет их размер для того, чтобы впоследствии обработанное изображение можно было сделать стикером и добавить в свой собственный стикерпак в Telegram-боте [@Stickers](https://t.me/Stickers).

Опробовать готового бота можно по ссылке: [Telegram Image Bot](https://t.me/png_and_resize_bot)

## Возможности
- Поддержка популярных форматов изображений: `JPEG, JPG, PNG, WEBP, BMP, GIF, SVG`
- Конвертация изображений в формат PNG
- Возможность изменения разрешения изображений (по умолчанию 512 пикселей по ширине, пропорциональное изменение высоты)
- Поддержка работы с файлами

## Установка

1. Склонируйте репозиторий или скачайте код:
   ```sh
   git clone https://github.com/KobilyanskyS/pngandresizebot
   cd pngandresizebot
   ```

2. Создайте и активируйте виртуальное окружение (опционально, но рекомендуется):
   ```sh
   python -m venv env
   source env/bin/activate  # для Linux/Mac
   env\Scripts\activate  # для Windows
   ```

3. Установите зависимости:
   ```sh
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в корне проекта и добавьте в него ваш токен бота:
   ```sh
   BOT_TOKEN=000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAA
   ```

## Запуск бота

Для запуска выполните команду:
```sh
python bot.py
```

## Требования

Бот использует следующие библиотеки:
- `pyTelegramBotAPI` (асинхронная версия)
- `Pillow` (работа с изображениями)
- `cairosvg` (конвертация SVG в PNG)

## Использование
1. Отправьте боту изображение или файл с изображением.
2. Бот предложит изменить разрешение — выберите `Да` или `Нет`.
3. Бот обработает изображение и отправит обратно в формате PNG.

## Возможные ошибки и их решение
- **Ошибка `OSError: no library called "cairo-2" was found`**  
  Решение: Установите `libcairo2` для вашей ОС:
  ```sh
  sudo apt install libcairo2
  brew install cairo
  ```